<HTML>

<!-- Generated by c2html-1.0, Copyright 1998 by Dave Whittington -->
<HEAD>
<TITLE>isdn_timru.h</TITLE>
<!--#include virtual="/ssi/js.shtml" -->
<!--#include virtual="/ssi/buttondefs.shtml" -->
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<TABLE WIDTH="100%">
<TR>
<TD ALIGN=LEFT WIDTH="90"><!--#include virtual="/ssi/b_home.shtml" --></TD>
<TD ALIGN=RIGHT WIDTH="90"><!--#include virtual="/ssi/b_up.shtml" --></TD>
</TR>
</TABLE>
<CENTER><H1>isdn_timru.h</H1></CENTER>

<HR>
<PRE>
<FONT COLOR=#0000FF>/* isdn_timru.h
 *
 * Linux ISDN subsystem, timeout-rules for network interfaces.
 *
 * Copyright 1997       by Christian Lademann &lt;cal@zls.de&gt;
 * 
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2, or (at your option)
 * any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA. 
 *
 */</FONT>

<FONT COLOR=#0000FF>/*
02.06.97:cal:ISDN_TIMRU_PACKET_NONE def., ISDN_TIMRU_PACKET_* inkr.
*/</FONT>

<FONT COLOR=#A521F7>#ifndef</FONT> <A HREF="#__isdn_timru_h__">__isdn_timru_h__</A>
<FONT COLOR=#A521F7>#define</FONT> <A NAME="__isdn_timru_h__">__isdn_timru_h__</A>

<FONT COLOR=#A521F7>#define</FONT>	<A NAME="ISDN_TIMRU_PACKET_NONE">ISDN_TIMRU_PACKET_NONE</A>		0
<FONT COLOR=#A521F7>#define</FONT>	<A NAME="ISDN_TIMRU_PACKET_SKB">ISDN_TIMRU_PACKET_SKB</A>		1
<FONT COLOR=#A521F7>#define</FONT>	<A NAME="ISDN_TIMRU_PACKET_PPP">ISDN_TIMRU_PACKET_PPP</A>		2
<FONT COLOR=#A521F7>#define</FONT>	<A NAME="ISDN_TIMRU_PACKET_PPP_NO_HEADER">ISDN_TIMRU_PACKET_PPP_NO_HEADER</A>	3

<FONT COLOR=#A521F7>#define</FONT>	<A NAME="ISDN_TIMRU_BRINGUP">ISDN_TIMRU_BRINGUP</A>		0
<FONT COLOR=#A521F7>#define</FONT>	<A NAME="ISDN_TIMRU_KEEPUP_IN">ISDN_TIMRU_KEEPUP_IN</A>		1
<FONT COLOR=#A521F7>#define</FONT>	<A NAME="ISDN_TIMRU_KEEPUP_OUT">ISDN_TIMRU_KEEPUP_OUT</A>		2
<FONT COLOR=#A521F7>#define</FONT>	<A NAME="ISDN_TIMRU_BRINGDOWN">ISDN_TIMRU_BRINGDOWN</A>		3
<FONT COLOR=#A521F7>#define</FONT>	<A NAME="ISDN_TIMRU_NUM_CHECK">ISDN_TIMRU_NUM_CHECK</A>		4

<FONT COLOR=#A521F7>#define</FONT>	<A NAME="ISDN_TIMRU_PROTFAM_WILDCARD">ISDN_TIMRU_PROTFAM_WILDCARD</A>	0
<FONT COLOR=#A521F7>#define</FONT>	<A NAME="ISDN_TIMRU_PROTFAM_IP">ISDN_TIMRU_PROTFAM_IP</A>		1
<FONT COLOR=#A521F7>#define</FONT>	<A NAME="ISDN_TIMRU_PROTFAM_PPP">ISDN_TIMRU_PROTFAM_PPP</A>		2
<FONT COLOR=#A521F7>#define</FONT>	<A NAME="ISDN_TIMRU_PROTFAM_IPX">ISDN_TIMRU_PROTFAM_IPX</A>		3
<FONT COLOR=#A521F7>#define</FONT>	<A NAME="ISDN_TIMRU_NUM_PROTFAM">ISDN_TIMRU_NUM_PROTFAM</A>		4

<FONT COLOR=#A521F7>#define</FONT>	<A NAME="ISDN_TIMRU_IP_WILDCARD">ISDN_TIMRU_IP_WILDCARD</A>		0
<FONT COLOR=#A521F7>#define</FONT>	<A NAME="ISDN_TIMRU_IP_ICMP">ISDN_TIMRU_IP_ICMP</A>		1
<FONT COLOR=#A521F7>#define</FONT>	<A NAME="ISDN_TIMRU_IP_TCP">ISDN_TIMRU_IP_TCP</A>		2
<FONT COLOR=#A521F7>#define</FONT>	<A NAME="ISDN_TIMRU_IP_UDP">ISDN_TIMRU_IP_UDP</A>		3

<FONT COLOR=#A521F7>#define</FONT>	<A NAME="ISDN_TIMRU_PPP_WILDCARD">ISDN_TIMRU_PPP_WILDCARD</A>		0
<FONT COLOR=#A521F7>#define</FONT>	<A NAME="ISDN_TIMRU_PPP_IPCP">ISDN_TIMRU_PPP_IPCP</A>		1
<FONT COLOR=#A521F7>#define</FONT>	<A NAME="ISDN_TIMRU_PPP_IPXCP">ISDN_TIMRU_PPP_IPXCP</A>		2
<FONT COLOR=#A521F7>#define</FONT>	<A NAME="ISDN_TIMRU_PPP_CCP">ISDN_TIMRU_PPP_CCP</A>		3
<FONT COLOR=#A521F7>#define</FONT>	<A NAME="ISDN_TIMRU_PPP_LCP">ISDN_TIMRU_PPP_LCP</A>		4
<FONT COLOR=#A521F7>#define</FONT>	<A NAME="ISDN_TIMRU_PPP_PAP">ISDN_TIMRU_PPP_PAP</A>		5
<FONT COLOR=#A521F7>#define</FONT>	<A NAME="ISDN_TIMRU_PPP_LQR">ISDN_TIMRU_PPP_LQR</A>		6
<FONT COLOR=#A521F7>#define</FONT>	<A NAME="ISDN_TIMRU_PPP_CHAP">ISDN_TIMRU_PPP_CHAP</A>		7

<FONT COLOR="#298C52">typedef</FONT> <FONT COLOR="#298C52">struct</FONT> {
	<FONT COLOR="#298C52">struct</FONT> in_addr	saddr,		<FONT COLOR=#0000FF>/* Source Address */</FONT>
			smask,		<FONT COLOR=#0000FF>/* Source Subnetmask */</FONT>
			daddr,		<FONT COLOR=#0000FF>/* Dest. Address */</FONT>
			dmask;		<FONT COLOR=#0000FF>/* Dest. Subnetmask */</FONT>
	ushort		protocol;	<FONT COLOR=#0000FF>/* TCP, UDP, ... */</FONT>
	<FONT COLOR="#298C52">union</FONT> {
		<FONT COLOR="#298C52">struct</FONT> {
			__u16	s_from,	<FONT COLOR=#0000FF>/* Source Port */</FONT>
				s_to,
				d_from,
				d_to;
		}		port;
		<FONT COLOR="#298C52">struct</FONT> {
			__u8	from,	<FONT COLOR=#0000FF>/* ICMP-Type */</FONT>
				to;
		}		type;
	}		pt;
}	<A NAME="isdn_timeout_rule_ip">isdn_timeout_rule_ip</A>;


<FONT COLOR="#298C52">typedef</FONT> <FONT COLOR="#298C52">struct</FONT> {
	ushort		protocol;	<FONT COLOR=#0000FF>/* IPCP, LCP, ... */</FONT>
}	<A NAME="isdn_timeout_rule_ppp">isdn_timeout_rule_ppp</A>;


<FONT COLOR="#298C52">typedef</FONT> <FONT COLOR="#298C52">struct</FONT> <A NAME="isdn_timeout_rule_s">isdn_timeout_rule_s</A> {
	<FONT COLOR="#298C52">struct</FONT> <A HREF="#isdn_timeout_rule_s">isdn_timeout_rule_s</A>	*next,		<FONT COLOR=#0000FF>/* Pointer to next rule */</FONT>
					*prev;		<FONT COLOR=#0000FF>/* Pointer to previous rule */</FONT>
	ushort				type,		<FONT COLOR=#0000FF>/* BRINGUP, KEEPUP_*, ... */</FONT>
					neg;
	<FONT COLOR="#298C52">int</FONT>				timeout;	<FONT COLOR=#0000FF>/* Timeout value */</FONT>
	ushort				protfam;	<FONT COLOR=#0000FF>/* IP, IPX, PPP, ... */</FONT>
	<FONT COLOR="#298C52">union</FONT> {
		<A HREF="#isdn_timeout_rule_ip">isdn_timeout_rule_ip</A>	ip;	<FONT COLOR=#0000FF>/* IP-Rule */</FONT>
		<A HREF="#isdn_timeout_rule_ppp">isdn_timeout_rule_ppp</A>	ppp;	<FONT COLOR=#0000FF>/* PPP-Rule */</FONT>
	}				rule;	<FONT COLOR=#0000FF>/* Prot.-specific rule */</FONT>
}	<A NAME="isdn_timeout_rule">isdn_timeout_rule</A>;


<FONT COLOR="#298C52">typedef</FONT> <FONT COLOR="#298C52">struct</FONT> {
	<FONT COLOR="#298C52">char</FONT>			name [9];	<FONT COLOR=#0000FF>/* Interface */</FONT>
	<FONT COLOR="#298C52">int</FONT>			where,		<FONT COLOR=#0000FF>/* 0/1: add to start/end of list, -1: handle default */</FONT>
				type,
				protfam,
				index,
				defval;
	<A HREF="#isdn_timeout_rule">isdn_timeout_rule</A>	rule;		<FONT COLOR=#0000FF>/* Rule */</FONT>
}	<A NAME="isdn_ioctl_timeout_rule">isdn_ioctl_timeout_rule</A>;

<FONT COLOR=#A521F7>#ifdef</FONT> __KERNEL__
<FONT COLOR="#298C52">extern</FONT> <FONT COLOR="#298C52">int</FONT>	isdn_net_recalc_timeout(<FONT COLOR="#298C52">int</FONT>, <FONT COLOR="#298C52">int</FONT>, <FONT COLOR="#298C52">struct</FONT> device *, <FONT COLOR="#298C52">void</FONT> *, ulong);
<FONT COLOR="#298C52">extern</FONT> <FONT COLOR="#298C52">int</FONT>	isdn_timru_alloc_timeout_rules(<FONT COLOR="#298C52">struct</FONT> device *);
<FONT COLOR="#298C52">extern</FONT> <FONT COLOR="#298C52">int</FONT>	isdn_timru_ioctl_add_rule(<A HREF="#isdn_ioctl_timeout_rule">isdn_ioctl_timeout_rule</A> *);
<FONT COLOR="#298C52">extern</FONT> <FONT COLOR="#298C52">int</FONT>	isdn_timru_ioctl_del_rule(<A HREF="#isdn_ioctl_timeout_rule">isdn_ioctl_timeout_rule</A> *);
<FONT COLOR="#298C52">extern</FONT> <FONT COLOR="#298C52">int</FONT>	isdn_timru_ioctl_get_rule(<A HREF="#isdn_ioctl_timeout_rule">isdn_ioctl_timeout_rule</A> *);
<FONT COLOR=#A521F7>#endif</FONT> <FONT COLOR=#0000FF>/* __KERNEL__ */</FONT>

<FONT COLOR=#A521F7>#endif</FONT> <FONT COLOR=#0000FF>/* __isdn_timru_h__ */</FONT>
</BODY>

</HTML>
