<HTML>

<!-- Generated by c2html-1.0, Copyright 1998 by Dave Whittington -->
<HEAD>
<TITLE>kernelcapi.h</TITLE>
<!--#include virtual="/ssi/js.shtml" -->
<!--#include virtual="/ssi/buttondefs.shtml" -->
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<TABLE WIDTH="100%">
<TR>
<TD ALIGN=LEFT WIDTH="90"><!--#include virtual="/ssi/b_home.shtml" --></TD>
<TD ALIGN=RIGHT WIDTH="90"><!--#include virtual="/ssi/b_up.shtml" --></TD>
</TR>
</TABLE>
<CENTER><H1>kernelcapi.h</H1></CENTER>

<HR>
<PRE>
<FONT COLOR=#0000FF>/*
 * $Id$
 * 
 * Kernel CAPI 2.0 Interface for Linux
 * 
 * (c) Copyright 1997 by Carsten Paeth (calle@calle.in-berlin.de)
 * 
 * $Log$
 * Revision 1.1  1997/03/04 21:27:33  calle
 * First version in isdn4linux
 *
 * Revision 2.2  1997/02/12 09:31:39  calle
 * new version
 *
 * Revision 1.1  1997/01/31 10:32:20  calle
 * Initial revision
 *
 * 
 */</FONT>
<FONT COLOR=#A521F7>#ifndef</FONT> <A HREF="#__KERNEL_CAPI_H__">__KERNEL_CAPI_H__</A>
<FONT COLOR=#A521F7>#define</FONT> <A NAME="__KERNEL_CAPI_H__">__KERNEL_CAPI_H__</A>

<FONT COLOR=#A521F7>#define</FONT> <A NAME="CAPI_MAXAPPL">CAPI_MAXAPPL</A>	20	<FONT COLOR=#0000FF>/*
				   * maximum number of applications 
				 */</FONT>
<FONT COLOR=#A521F7>#define</FONT> <A NAME="CAPI_MAXCONTR">CAPI_MAXCONTR</A>	4	<FONT COLOR=#0000FF>/*
				   * maximum number of controller 
				 */</FONT>
<FONT COLOR=#A521F7>#define</FONT> <A NAME="CAPI_MAXDATAWINDOW">CAPI_MAXDATAWINDOW</A>	8

<FONT COLOR=#A521F7>#ifdef</FONT> __KERNEL__

<FONT COLOR="#298C52">struct</FONT> capi_interface {
	<FONT COLOR="#298C52">int</FONT> (*capi_installed) (<FONT COLOR="#298C52">void</FONT>);

	 __u16(*capi_register) (<A HREF="capi.h.shtml#capi_register_params">capi_register_params</A> * rparam, __u16 * applidp);
	 __u16(*capi_release) (__u16 applid);
	 __u16(*capi_put_message) (__u16 applid, <FONT COLOR="#298C52">struct</FONT> sk_buff * msg);
	 __u16(*capi_get_message) (__u16 applid, <FONT COLOR="#298C52">struct</FONT> sk_buff ** msgp);
	 __u16(*capi_set_signal) (__u16 applid,
			      <FONT COLOR="#298C52">void</FONT> (*signal) (__u16 applid, __u32 param),
				  __u32 param);
	 __u16(*capi_get_manufacturer) (__u16 contr, __u8 buf[<A HREF="capi.h.shtml#CAPI_MANUFACTURER_LEN">CAPI_MANUFACTURER_LEN</A>]);
	 __u16(*capi_get_version) (__u16 contr, <FONT COLOR="#298C52">struct</FONT> <A HREF="capi.h.shtml#capi_version">capi_version</A> * verp);
	 __u16(*capi_get_serial) (__u16 contr, __u8 serial[<A HREF="capi.h.shtml#CAPI_SERIAL_LEN">CAPI_SERIAL_LEN</A>]);
	 __u16(*capi_get_profile) (__u16 contr, <FONT COLOR="#298C52">struct</FONT> <A HREF="capi.h.shtml#capi_profile">capi_profile</A> * profp);

	<FONT COLOR=#0000FF>/*
	 * to init controllers, data is always in user memory
	 */</FONT>
	<FONT COLOR="#298C52">int</FONT> (*capi_manufacturer) (<FONT COLOR="#298C52">unsigned</FONT> <FONT COLOR="#298C52">int</FONT> cmd, <FONT COLOR="#298C52">void</FONT> *data);

};

<FONT COLOR=#A521F7>#define</FONT>	<A NAME="KCI_CONTRUP">KCI_CONTRUP</A>	0
<FONT COLOR=#A521F7>#define</FONT>	<A NAME="KCI_CONTRDOWN">KCI_CONTRDOWN</A>	1

<FONT COLOR="#298C52">struct</FONT> capi_interface_user {
	<FONT COLOR="#298C52">char</FONT> name[20];
	<FONT COLOR="#298C52">void</FONT> (*callback) (<FONT COLOR="#298C52">unsigned</FONT> <FONT COLOR="#298C52">int</FONT> cmd, __u16 contr, <FONT COLOR="#298C52">void</FONT> *data);
	<FONT COLOR="#298C52">struct</FONT> capi_interface_user *next;
};

<FONT COLOR="#298C52">struct</FONT> capi_interface *attach_capi_interface(<FONT COLOR="#298C52">struct</FONT> capi_interface_user *);
<FONT COLOR="#298C52">int</FONT> detach_capi_interface(<FONT COLOR="#298C52">struct</FONT> capi_interface_user *);


<FONT COLOR=#A521F7>#define</FONT> <A NAME="CAPI_NOERROR">CAPI_NOERROR</A>                      0x0000

<FONT COLOR=#A521F7>#define</FONT> <A NAME="CAPI_TOOMANYAPPLS">CAPI_TOOMANYAPPLS</A>		  0x1001
<FONT COLOR=#A521F7>#define</FONT> <A NAME="CAPI_LOGBLKSIZETOSMALL">CAPI_LOGBLKSIZETOSMALL</A>	          0x1002
<FONT COLOR=#A521F7>#define</FONT> <A NAME="CAPI_BUFFEXECEEDS64K">CAPI_BUFFEXECEEDS64K</A> 	          0x1003
<FONT COLOR=#A521F7>#define</FONT> <A NAME="CAPI_MSGBUFSIZETOOSMALL">CAPI_MSGBUFSIZETOOSMALL</A>	          0x1004
<FONT COLOR=#A521F7>#define</FONT> <A NAME="CAPI_ANZLOGCONNNOTSUPPORTED">CAPI_ANZLOGCONNNOTSUPPORTED</A>	  0x1005
<FONT COLOR=#A521F7>#define</FONT> <A NAME="CAPI_REGRESERVED">CAPI_REGRESERVED</A>		  0x1006
<FONT COLOR=#A521F7>#define</FONT> <A NAME="CAPI_REGBUSY">CAPI_REGBUSY</A> 		          0x1007
<FONT COLOR=#A521F7>#define</FONT> <A NAME="CAPI_REGOSRESOURCEERR">CAPI_REGOSRESOURCEERR</A>	          0x1008
<FONT COLOR=#A521F7>#define</FONT> <A NAME="CAPI_REGNOTINSTALLED">CAPI_REGNOTINSTALLED</A> 	          0x1009
<FONT COLOR=#A521F7>#define</FONT> <A NAME="CAPI_REGCTRLERNOTSUPPORTEXTEQUIP">CAPI_REGCTRLERNOTSUPPORTEXTEQUIP</A>  0x100a
<FONT COLOR=#A521F7>#define</FONT> <A NAME="CAPI_REGCTRLERONLYSUPPORTEXTEQUIP">CAPI_REGCTRLERONLYSUPPORTEXTEQUIP</A> 0x100b

<FONT COLOR=#A521F7>#define</FONT> <A NAME="CAPI_ILLAPPNR">CAPI_ILLAPPNR</A>		          0x1101
<FONT COLOR=#A521F7>#define</FONT> <A NAME="CAPI_ILLCMDORSUBCMDORMSGTOSMALL">CAPI_ILLCMDORSUBCMDORMSGTOSMALL</A>   0x1102
<FONT COLOR=#A521F7>#define</FONT> <A NAME="CAPI_SENDQUEUEFULL">CAPI_SENDQUEUEFULL</A>		  0x1103
<FONT COLOR=#A521F7>#define</FONT> <A NAME="CAPI_RECEIVEQUEUEEMPTY">CAPI_RECEIVEQUEUEEMPTY</A>	          0x1104
<FONT COLOR=#A521F7>#define</FONT> <A NAME="CAPI_RECEIVEOVERFLOW">CAPI_RECEIVEOVERFLOW</A> 	          0x1105
<FONT COLOR=#A521F7>#define</FONT> <A NAME="CAPI_UNKNOWNNOTPAR">CAPI_UNKNOWNNOTPAR</A>		  0x1106
<FONT COLOR=#A521F7>#define</FONT> <A NAME="CAPI_MSGBUSY">CAPI_MSGBUSY</A> 		          0x1107
<FONT COLOR=#A521F7>#define</FONT> <A NAME="CAPI_MSGOSRESOURCEERR">CAPI_MSGOSRESOURCEERR</A>	          0x1108
<FONT COLOR=#A521F7>#define</FONT> <A NAME="CAPI_MSGNOTINSTALLED">CAPI_MSGNOTINSTALLED</A> 	          0x1109
<FONT COLOR=#A521F7>#define</FONT> <A NAME="CAPI_MSGCTRLERNOTSUPPORTEXTEQUIP">CAPI_MSGCTRLERNOTSUPPORTEXTEQUIP</A>  0x110a
<FONT COLOR=#A521F7>#define</FONT> <A NAME="CAPI_MSGCTRLERONLYSUPPORTEXTEQUIP">CAPI_MSGCTRLERONLYSUPPORTEXTEQUIP</A> 0x110b

<FONT COLOR=#A521F7>#endif</FONT>				<FONT COLOR=#0000FF>/* __KERNEL__ */</FONT>

<FONT COLOR=#A521F7>#endif</FONT>				<FONT COLOR=#0000FF>/* __KERNEL_CAPI_H__ */</FONT>
</BODY>

</HTML>
